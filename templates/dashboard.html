<!-- Extenmd the base html page for each page to keep style consistent -->
{% extends "base.html" %}
<title>{% block title %}
    Dashboard
    {% end block %}</title>

{% block content %}

<div class="container mt-5">
<h1> Welcome, {{ current_user.username }} </h1>

<!-- Display transactions -->
<div class="table">
    <div class="card-body">
        <h2 class="card-title">Your transactions</h2>
        <a href="{{ url_for('add_transaction') }}" class="btn btn-primary btn-sm">Add new transaction</a>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Category</th>
                <th>Kind</th>
            </tr>
            </thead>
            <tbody>
                {% for transaction in transactions %}
                <tr>
                    <td>{{ transaction.date}}</td>
                    <td>{{ transaction.amount}}</td>
                    <td>{{ transaction.category }}</td>
                    <td>{{ transaction.kind }}</td>
                    <td>
                    <a href="{{ url_for('transactions', transaction_id = transaction.id) }}" class="btn btn-primary btn-sm">View</a>
                    </td>
                </tr>
                {% end for %}
            </tbody>
        </table>
    </div>
</div>

<!-- Display refunds -->
<div class="table">
    <div class="card-body">
        <h2 class="card-title">Your refunds</h2>
        <a href="{{ url_for('add_refunds') }}" class="btn btn-primary btn-sm">Add new refund</a>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Status</th>
            </tr>
            </thead>
            <tbody>
                {% for refund in refunds %}
                <tr>
                    <td>{{ refund.date}}</td>
                    <td>{{ refund.amount}}</td>
                    <td>{{ refund.status }}</td>
                    <td>
                    <a href="{{ url_for('refunds', refund_id = refund.id) }}" class="btn btn-primary btn-sm">View</a>
                    </td>
                </tr>
                {% end for %}
            </tbody>
        </table>
    </div>
</div>

<!-- Display saving jars -->
<div class="table">
    <div class="card-body">
        <h2 class="card-title">Your saving jars</h2>
        <a href="{{ url_for('add_saving_jar') }}" class="btn btn-primary btn-sm">Add new saving jar</a>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Name</th>
                <th>Goal</th>
                <th>Current amount</th>
            </tr>
            </thead>
            <tbody>
                {% for jar in jars %}
                <tr>
                    <td>{{ jar.name}}</td>
                    <td>{{ jar.goal}}</td>
                    <td>{{ jar.current_amount }}</td>
                    <td>
                    <a href="{{ url_for('saving_jars', jar_id = jar.id) }}" class="btn btn-primary btn-sm">View</a>
                    </td>
                </tr>
                {% end for %}
            </tbody>
        </table>
    </div>
</div>
</div>
{% end block %}
